/*!
 * Stockfish.js 17 (c) 2025, Chess.com, LLC
 * https://github.com/nmrugg/stockfish.js
 * License: GPLv3
 *
 * Based on Stockfish (c) T. Romstad, M. Costalba, J. Kiiski, G. Linscott and other contributors.
 * https://github.com/official-stockfish/Stockfish
 */!function(){var a,s,l,e,t,i;function r(){async function e(q={}){var F,t,i,r,c=q,q=new Promise((e,n)=>{F=e,t=n}),k="object"==typeof window,e="undefined"!=typeof WorkerGlobalScope,B="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&"renderer"!=process.type,o=("undefined"!=typeof global&&"[object process]"===Object.prototype.toString.call(global.process)&&"undefined"!=typeof fetch&&("undefined"==typeof XMLHttpRequest&&(global.XMLHttpRequest=function(){var t,i={open:function(e,n){t=n},send:function(){require("fs").readFile(t,function(e,n){i.readyState=4,e?(console.error(e),i.status=404,i.onerror(e)):(i.status=200,i.response=n,i.onreadystatechange(),i.onload())})}};return i}),fetch=null),c.print=function(e){c.listener?c.listener(e):console.log(e)},c.printErr=function(e){c.listener?c.listener(e):console.error(e)},c.terminate=function(){"undefined"!=typeof PThread&&PThread.I()},[]),s="./this.program",n=(e,n)=>{throw n},a=("undefined"!=typeof __filename?Se=__filename:e&&(Se=self.location.href),"");if(B){var D=require("fs");require("path"),a=__dirname+"/",r=e=>(e=z(e)?new URL(e):e,D.readFileSync(e)),i=async e=>(e=z(e)?new URL(e):e,D.readFileSync(e,void 0)),1<process.argv.length&&(s=process.argv[1].replace(/\\/g,"/")),o=process.argv.slice(2),n=(e,n)=>{throw process.exitCode=e,n}}else if(k||e){try{a=new URL(".",Se).href}catch{}e&&(r=e=>{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),i=async e=>{if((e=await fetch(e,{credentials:"same-origin"})).ok)return e.arrayBuffer();throw Error(e.status+" : "+e.url)}}var l,u,f,W,d,p,m,H,N=console.log.bind(console),y=console.error.bind(console),h=!1,z=e=>e.startsWith("file://");function G(){var e=u.buffer;W=new Int8Array(e),new Int16Array(e),d=new Uint8Array(e),new Uint16Array(e),p=new Int32Array(e),m=new Uint32Array(e),new Float32Array(e),new Float64Array(e),H=new BigInt64Array(e),new BigUint64Array(e)}var v,g=0,w=null;function C(e){throw c.onAbort?.(e),y(e="Aborted("+e+")"),h=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),t(e),e}async function Y(e,n){try{var t=await async function(e){if(!l)try{var n=await i(e);return new Uint8Array(n)}catch{}if(e==v&&l)e=new Uint8Array(l);else{if(!r)throw"both async and sync fetching of the wasm failed";e=r(e)}return e}(e);return await WebAssembly.instantiate(t,n)}catch(e){y("failed to asynchronously prepare wasm: "+e),C(e)}}class X{name="ExitStatus";constructor(e){this.message=`Program terminated with exit(${e})`,this.status=e}}var _,$=e=>{for(;0<e.length;)e.shift()(c)},J=[],K=[],V=()=>{var e=c.preRun.shift();K.push(e)},b=!0,Q="undefined"!=typeof TextDecoder?new TextDecoder:void 0,Z=(e,n=0)=>{for(var t=n+NaN,i=n;e[i]&&!(t<=i);)++i;if(16<i-n&&e.buffer&&Q)return Q.decode(e.subarray(n,i));for(t="";n<i;){var r,o,a=e[n++];128&a?(r=63&e[n++],192==(224&a)?t+=String.fromCharCode((31&a)<<6|r):(o=63&e[n++],(a=224==(240&a)?(15&a)<<12|r<<6|o:(7&a)<<18|r<<12|o<<6|63&e[n++])<65536?t+=String.fromCharCode(a):(a-=65536,t+=String.fromCharCode(55296|a>>10,56320|1023&a)))):t+=String.fromCharCode(a)}return t},S=0,j={},R=e=>{e instanceof X||"unwind"==e||n(1,e)},x=e=>{f=e,b||0<S||(c.onExit?.(e),h=!0),n(e,new X(e))},ee=e=>{x(f=e)},A=e=>{if(!h)try{if(e(),!(b||0<S))try{f=e=f,x(e)}catch(e){R(e)}}catch(e){R(e)}},I=(e,n,t)=>{var i=d;if(!(0<t))return 0;var r=n;t=n+t-1;for(var o=0;o<e.length;++o){var a=e.charCodeAt(o);if((a=55296<=a&&a<=57343?65536+((1023&a)<<10)|1023&e.charCodeAt(++o):a)<=127){if(t<=n)break;i[n++]=a}else{if(a<=2047){if(t<=n+1)break;i[n++]=192|a>>6}else{if(a<=65535){if(t<=n+2)break;i[n++]=224|a>>12}else{if(t<=n+3)break;i[n++]=240|a>>18,i[n++]=128|a>>12&63}i[n++]=128|a>>6&63}i[n++]=128|63&a}}return i[n]=0,n-r},M={},ne=()=>{if(!_){var e,n={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:s||"./this.program"};for(e in M)void 0===M[e]?delete n[e]:n[e]=M[e];var t=[];for(e in n)t.push(e+"="+n[e]);_=t}return _},te=e=>{for(var n=0,t=0;t<e.length;++t){var i=e.charCodeAt(t);i<=127?n++:i<=2047?n+=2:55296<=i&&i<=57343?(n+=4,++t):n+=3}return n},ie=[null,[],[]],re=e=>{var n=te(e)+1,t=ve(n);return I(e,t,n),t},T=e=>{try{e()}catch(e){C(e)}},U=0,L=null,oe=0,E=[],ae={},se={},le=0,P=null,ue=[];function fe(e){var r,o,n,t;if(!h)return 0===U?(o=r=!1,e((n=0)=>{if(!h&&(oe=n,r=!0,o)){U=2,T(()=>_e(L)),"undefined"!=typeof MainLoop&&MainLoop.H&&MainLoop.resume(),n=!1;try{var t=(0,O[se[p[L+8>>2]]])()}catch(e){t=e,n=!0}var e,i=!1;if(L||(e=P)&&(P=null,(n?e.reject:e.resolve)(t),i=!0),n&&!i)throw t}}),o=!0,r||(U=1,e=ye(10485772),n=e+12,m[e>>2]=n,m[e+4>>2]=n+10485760,n=E[0],void 0===(t=ae[n])&&(t=le++,ae[n]=t,se[t]=n),p[e+8>>2]=t,L=e,"undefined"!=typeof MainLoop&&MainLoop.H&&MainLoop.pause(),T(()=>we(L)))):2===U?(U=0,T(be),pe(L),L=null,ue.forEach(A)):C("invalid state: "+U),oe}c.noExitRuntime&&(b=c.noExitRuntime),c.print&&(N=c.print),c.printErr&&(y=c.printErr),c.wasmBinary&&(l=c.wasmBinary),c.arguments&&(o=c.arguments),c.thisProgram&&(s=c.thisProgram),c.ccall=(e,n,t,i,r)=>{function o(e){return--S,0!==l&&he(l),"string"===n?e?Z(d,e):"":"boolean"===n?!!e:e}var a={string:e=>{var n=0;return n=null!=e&&0!==e?re(e):n},array:e=>{var n=ve(e.length);return W.set(e,n),n}},s=(e=c["_"+e],[]),l=0;if(i)for(var u=0;u<i.length;u++){var f=a[t[u]];f?(0===l&&(l=ge()),s[u]=f(i[u])):s[u]=i[u]}return t=L,i=e(...s),r=r?.async,S+=1,L!=t?new Promise((e,n)=>{P={resolve:e,reject:n}}).then(o):(i=o(i),r?Promise.resolve(i):i)};var ce={a:function(){return 0},i:()=>{},e:function(){return 0},f:function(){},j:()=>C(""),l:()=>{b=!1,S=0},m:(e,n)=>{var t;return j[e]&&(clearTimeout(j[e].id),delete j[e]),n&&(t=setTimeout(()=>{delete j[e],A(()=>me(e,performance.now()))},n),j[e]={id:t,J:n}),0},n:(e,n,t,i)=>{var r=(new Date).getFullYear(),o=new Date(r,0,1).getTimezoneOffset(),r=new Date(r,6,1).getTimezoneOffset();m[e>>2]=60*Math.max(o,r),p[n>>2]=Number(o!=r),e=(n=e=>{var n=Math.abs(e);return"UTC"+(0<=e?"-":"+")+String(Math.floor(n/60)).padStart(2,"0")+String(n%60).padStart(2,"0")})(o),n=n(r),r<o?(I(e,t,17),I(n,i,17)):(I(e,i,17),I(n,t,17))},g:function(e,n,t){return 0<=e&&e<=3?(H[t>>3]=BigInt(Math.round(1e6*(0===e?Date:performance).now())),0):28},h:e=>{var n=d.length;if(!(2147483648<(e>>>=0)))for(var t=1;t<=4;t*=2){var i=n*(1+.2/t),i=Math.min(i,e+100663296);e:{i=(Math.min(2147483648,65536*Math.ceil(Math.max(e,i)/65536))-u.buffer.byteLength+65535)/65536|0;try{u.grow(i),G();var r=1;break e}catch(e){}r=void 0}if(r)return!0}return!1},s:t=>fe(e=>{return n=e,setTimeout(()=>{A(n)},t);var n}),o:(e,n)=>{var t,i=0,r=0;for(t of ne()){var o=n+i;m[e+r>>2]=o,i+=I(t,o,1/0)+1,r+=4}return 0},p:(e,n)=>{var t,i=ne();m[e>>2]=i.length,e=0;for(t of i)e+=te(t)+1;return m[n>>2]=e,0},c:ee,b:()=>52,d:()=>52,q:function(){return 70},r:(e,n,t,i)=>{for(var r=0,o=0;o<t;o++){var a=m[n>>2],s=m[n+4>>2];n+=8;for(var l=0;l<s;l++){var u=d[a+l],f=ie[e];0===u||10===u?((1===e?N:y)(Z(f)),f.length=0):f.push(u)}r+=s}return m[i>>2]=r,0},k:x},O=await async function(){function i(e){return O=e.exports,O=function(){var e=O,i={};for(let[n,t]of Object.entries(e))i[n]="function"==typeof t?(...e)=>{E.push(n);try{return t(...e)}finally{h||(E.pop(),L&&1===U&&0===E.length&&(U=0,T(Ce),"undefined"!=typeof Fibers)&&Fibers.K())}}:t;return i}(),u=O.t,G(),g--,c.monitorRunDependencies?.(g),0==g&&w&&(e=w,w=null,e()),O}g++,c.monitorRunDependencies?.(g);var e={a:ce};if(c.instantiateWasm)return new Promise(t=>{c.instantiateWasm(e,(e,n)=>{t(i(e))})});v??=c.locateFile?c.locateFile("stockfish.wasm",a):a+"stockfish.wasm";try{return i((await async function(e){var n=v;if(!l&&"function"==typeof WebAssembly.instantiateStreaming&&!B)try{var t=fetch(n,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(t,e)}catch(e){y("wasm streaming compile failed: "+e),y("falling back to ArrayBuffer instantiation")}return Y(n,e)}(e)).instance)}catch(e){return t(e),Promise.reject(e)}}(),de=c._main=O.v,pe=(c._command=O.w,O.x),me=O.y,ye=O.z,he=O.A,ve=O.B,ge=O.C,we=(c.dynCall_vi=O.dynCall_vi,c.dynCall_ii=O.dynCall_ii,c.dynCall_jiji=O.dynCall_jiji,c.dynCall_iiii=O.dynCall_iiii,c.dynCall_vii=O.dynCall_vii,c.dynCall_iii=O.dynCall_iii,c.dynCall_viii=O.dynCall_viii,c.dynCall_viijii=O.dynCall_viijii,c.dynCall_viiii=O.dynCall_viiii,c.dynCall_v=O.dynCall_v,c.dynCall_iiiii=O.dynCall_iiiii,c.dynCall_iiiiii=O.dynCall_iiiiii,c.dynCall_iiiiiiiii=O.dynCall_iiiiiiiii,c.dynCall_iiiiiii=O.dynCall_iiiiiii,c.dynCall_iiiiij=O.dynCall_iiiiij,c.dynCall_iiiiid=O.dynCall_iiiiid,c.dynCall_iiiiijj=O.dynCall_iiiiijj,c.dynCall_iiiiiiii=O.dynCall_iiiiiiii,c.dynCall_iiiiiijj=O.dynCall_iiiiiijj,c.dynCall_viiiiii=O.dynCall_viiiiii,c.dynCall_viiiii=O.dynCall_viiiii,O.D),Ce=O.E,_e=O.F,be=O.G;if(c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.shift()();return function e(a=o){function n(){if(c.calledRun=!0,!h){if(O.u(),F(c),c.onRuntimeInitialized?.(),!c.noInitialRun){var[e=[]]=[a],n=(e.unshift(s),e.length),t=ve(4*(n+1)),i=t;e.forEach(e=>{m[i>>2]=re(e),i+=4}),m[i>>2]=0;try{var r=de(n,t);ee(r)}catch(e){R(e)}}if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var o=c.postRun.shift();J.push(o)}$(J)}}if(0<g)w=e;else{if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)V();$(K),0<g?w=e:c.setStatus?(c.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>c.setStatus(""),1),n()},1)):n()}}(),q}var Se;Se="undefined"!=typeof document?document.currentScript?.src:void 0;return"object"==typeof exports&&"object"==typeof module?(module.exports=e,module.exports.default=e):"function"==typeof define&&define.amd&&define([],()=>e),e}function n(t){var e,i=0,r=[],n=a.slice(1+(a.lastIndexOf(".")-1>>>0)),o=a.slice(0,-n.length);for(e=0;e<t;++e)!function(e,n){fetch(new Request(e)).then(function(e){return e.blob()}).then(function(e){n(e)})}(o+"-part-"+e+n,function(n){return function(e){++i,r[n]=e,i===t&&(e=URL.createObjectURL(new Blob(r)),s(e))}}(e))}"undefined"!=typeof self&&"worker"===self.location.hash.split(",")[1]||"undefined"!=typeof global&&"[object process]"===Object.prototype.toString.call(global.process)&&!require("worker_threads").isMainThread||("undefined"!=typeof onmessage&&("undefined"==typeof window||void 0===window.document)||"undefined"!=typeof global&&"[object process]"===Object.prototype.toString.call(global.process)?(e="undefined"!=typeof global&&"[object process]"===Object.prototype.toString.call(global.process),t={},i=[],e?require.main===module?(l=require("path"),a=l.join(__dirname,l.basename(__filename,l.extname(__filename))+".wasm"),t={locateFile:function(e){return-1<e.indexOf(".wasm")?-1<e.indexOf(".wasm.map")?a+".map":a:__filename},listener:function(e){process.stdout.write(e+"\n")}},"number"==typeof enginePartsCount&&(t.wasmBinary=function(e){for(var n=require("fs"),t=l.extname(a),i=a.slice(0,-t.length),r=[],o=0;o<e;++o)r.push(n.readFileSync(i+"-part-"+o+".wasm"));return Buffer.concat(r)}(enginePartsCount)),r()(t).then(function e(){if(t._isReady){if(!t._isReady())return setTimeout(e,10);delete t._isReady}t.sendCommand=function(e){t.ccall("command",null,["string"],[e],{async:"undefined"!=typeof IS_ASYNCIFY&&/^go\b/.test(e)})},i.forEach(t.sendCommand),i=null}),require("readline").createInterface({input:process.stdin,output:process.stdout,completer:function(n){var e=["binc ","btime ","confidence ","depth ","infinite ","mate ","maxdepth ","maxtime ","mindepth ","mintime ","moves ","movestogo ","movetime ","ponder ","searchmoves ","shallow ","winc ","wtime "];function t(e){return 0===e.indexOf(n)}var i=["compiler","d","eval","exit","flip","go ","isready ","ponderhit ","position fen ","position startpos","position startpos moves","quit","setoption name Clear Hash value true","setoption name Contempt value ","setoption name Hash value ","setoption name Minimum Thinking Time value ","setoption name Move Overhead value ","setoption name MultiPV value ","setoption name Ponder value ","setoption name Skill Level value ","setoption name Slow Mover value ","setoption name Threads value ","setoption name UCI_Chess960 value false","setoption name UCI_Chess960 value true","setoption name UCI_LimitStrength value true","setoption name UCI_LimitStrength value false","setoption name UCI_Elo value ","setoption name UCI_ShowWDL value true","setoption name UCI_ShowWDL value false","setoption name nodestime value ","stop","uci","ucinewgame"].filter(t);return[i=i.length?i:(n=n.replace(/^.*\s/,""))?e.filter(t):e,n]},historySize:100}).on("line",function(e){e&&(t.sendCommand?t.sendCommand(e):i.push(e),"quit"!==e&&"exit"!==e||process.exit())}).on("close",function(){process.exit()}).setPrompt("")):module.exports=r:(e=self.location.hash.substr(1).split(","),a=decodeURIComponent(e[0]||location.origin+location.pathname.replace(/\.js$/i,".wasm")),s=function(n){t={locateFile:function(e){return-1<e.indexOf(".wasm")?-1<e.indexOf(".wasm.map")?a+".map":n||a:self.location.origin+self.location.pathname+"#"+a+",worker"},listener:function(e){postMessage(e)}},r()(t).then(function e(){if(t._isReady){if(!t._isReady())return setTimeout(e,10);delete t._isReady}t.sendCommand=function(e){if(t.ccall("command",null,["string"],[e],{async:"undefined"!=typeof IS_ASYNCIFY&&/^go\b/.test(e)}),"quit"===e||"exit"===e)try{t.terminate()}catch(e){}},i.forEach(t.sendCommand),i=null}).catch(function(e){setTimeout(function(){throw e},1)})},"number"==typeof enginePartsCount?n(enginePartsCount):s(),onmessage=onmessage||function(e){if(t.sendCommand?t.sendCommand(e.data):i.push(e.data),"quit"===e.data||"exit"===e.data)try{self.close()}catch(e){}})):"object"==typeof document&&document.currentScript?document.currentScript._exports=r():r())}();